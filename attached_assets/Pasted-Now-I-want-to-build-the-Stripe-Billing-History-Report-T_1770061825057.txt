Now I want to build the Stripe Billing History Report. 
This report will be available only for "Pay-as-you-go" clients and "Monthly Payment" Clients, not "Deduct from Royalties" Clients
The Pay-as-you-go Client should have 1 transaction per Requested Service (Ad-hoc or Bundle Service). So if they requested 10 Services on any given day, they will have 10 Stripe Transactions. If during the entire month they request 432 Services, they will have during that month 432 Stripe transactions IDs.
For Monthly Payment Clients, all the Transactions grouped during the month are gonna be billed in one single stripe transaction. If they requested 432 Services, there would be only 1 transaction.
For Admin view the Report must have 2 Tabs: Pay as you Go / Monthly Payment
The Pay as you go Tab should have the following columns: Client, Payment Status (Processed / Failed), Service Type (each ad-hoc service or bundle name), Billing Date, Subtotal Amount (Service or Bundle amount with discount applied if added), Processing Fee (Stripe Fee), Total Charge, Stripe Invoice ID (transaction ID)
The Monthly Payment Tab should have the following columns: Client, Payment Status (Processed / Failed), Billing Period, Amount of Services, Subtotal Amount (Addition of Services or Bundles amount with discount applied if added during the period), Processing Fee (Stripe Fee), Total Charge, Stripe Invoice ID (transaction ID)
For the Client View, they will not see tabs for Pay as you go or Monthly Payment until they have both cases. So if a Client signs up and is a Pay as you Go Client they will see only the Pay as you Go tab, then if an Admin moves them to Monthly Payment, they will start seeing the Monthly Payment Tab and keep the Pay as you go tab for historical data. IMPORTANT: The System should position the user on the tab that they are currently assigned as Payment Type on the Payment Configuration on the Client Profile.
For Clients view, the Pay as you Go tab the columns must be the following columns: Service Type (each ad-hoc service or bundle name), Payment Status (Processed / Failed), Billing Date, Subtotal Amount (Service or Bundle amount with discount applied if added), Processing Fee (Stripe Fee), Total Charge, Stripe Invoice ID (transaction ID)
For Clients view, the Monthly Payment tab the columns must be the following columns: Payment Status (Processed / Failed), Billing Period, Amount of Services, Subtotal Amount (Addition of Services or Bundles amount with discount applied if added during the period), Processing Fee (Stripe Fee), Total Charge, Stripe Invoice ID (transaction ID)
Filters and Search:
Admin on the “Pay as you go” tab should have Client Filter, Date Filter, Status Filter. They should be able to Search by Client and by Stripe Transaction ID.
Admin on the “Monthly Payment” tab should have Client Filter, Billing Period Filter, Status Filter. They should be able to Search by Client and by Stripe Transaction ID.
Clients on the “Pay as you go” tab should have Date Filter, Status Filter. They should be able to Search by Stripe Transaction ID.
Clients on the “Monthly Payment” tab should have Billing Period Filter, Status Filter. They should be able to Search  by Stripe Transaction ID.
Special case for Monthly Packs combined with "Pay as you Go" Clients:
Pay as you Go Clients will pay the Monthly packs once a month and the Services included under the Pack will not trigger a Stripe Transaction. Unless they pass the limit, and we will charge the individual price at the regular price (having in mind if they have a Discount % on Client Profile) we can add to the monthly pack exceeded services as a separate line item but still once a month.
Special case for Monthly Packs combined with "Monthly Payment" Clients:
For the Monthly Payment Client, since they already pay monthly, for the services included in the pack we charge the pack price and for the Services not included on any pack, we charge them individually but grouped as one line item for all services. Adding Amount of Extra Service and then the Total (Pack Subscription + Extra Services).